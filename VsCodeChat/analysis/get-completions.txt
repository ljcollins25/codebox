nc request(e){let n=this.cache.get(e);n!==void 0&&(this.cache.delete(e),await n())}};var cY=new ot("getCompletions");function pnt(t,e,n){t.get(cg).request(n.clientCompletionId),n.telemetry.markAsDisplayed(),n.telemetry.properties.reason=xR(n.resultType),et(t,`${e}.shown`,n.telemetry)}s(pnt,"telemetryShown");function mnt(t,e,n){let a=e+".accepted";et(t,a,n)}s(mnt,"telemetryAccepted");function gnt(t,e,n){let a=e+".rejected";et(t,a,n)}s(gnt,"telemetryRejected");function fx(t,e={}){return{...e,telemetryBlob:t}}s(fx,"mkCanceledResultTelemetry");function Wo(t,e){let n={headerRequestId:t.properties.headerRequestId,copilot_trackingId:t.properties.copilot_trackingId};t.properties.sku!==void 0&&(n.sku=t.properties.sku),t.properties.opportunityId!==void 0&&(n.opportunityId=t.properties.opportunityId),t.properties.organizations_list!==void 0&&(n.organizations_list=t.properties.organizations_list),t.properties.enterprise_list!==void 0&&(n.enterprise_list=t.properties.enterprise_list),t.properties.clientCompletionId!==void 0&&(n.clientCompletionId=t.properties.clientCompletionId);let a=t.filtersAndExp.exp.assignmentContext;if(e){let o=e.get(Pd).inlineCompletionsUnificationState.expAssignments.filter(c=>!a.includes(c));a=[a,...o].filter(Boolean).join(";")}return n["abexp.assignmentcontext"]=a,n}s(Wo,"mkBasicResultTelemetry");function fnt(t,e){if(e.type!=="promptOnly"){if(e.type==="success"){let n=go()-e.telemetryBlob.issuedTime,a=xR(e.resultType),r=JSON.stringify(e.performanceMetrics),o={..
